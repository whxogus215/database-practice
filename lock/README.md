# 🏗️ 동시성 문제 해결을 위한 DB 락 프로젝트

이 디렉토리는 서비스에서 주로 발생하는 동시성 문제를 해결하기 위해 락을 도입하여 문제를 해결하는 과정을 담고 있습니다.  
동시에 추가 요청을 보내는 상황에서 발생하는 정합성 문제를 파악하고, 여러 락을 도입하여 문제를 해결하는 과정을 다뤘습니다.

## 프로젝트 개요
당신은 인기 있는 온라인 서비스의 백엔드 개발자입니다.  
이번에 마케팅 팀에서 **선착순 100명 한정 이벤트**를 기획했습니다.  
사용자들이 동시에 이벤트 참여 버튼을 눌렀을 때, 정확히 100명만 참여에 성공해야 하며,  
**동시성 문제로 인해 정원을 초과하거나 데이터 불일치가 발생해서는 안 됩니다.**

이 프로젝트에서는 데이터베이스 락(Lock)을 활용하여 동시성 문제를 해결하는 과정을 다룹니다.

## 주요 학습 목표
- **Race Condition 경험**: 여러 스레드가 동시에 공유 자원(이벤트 참여 인원)에 접근할 때 발생하는 데이터 불일치 문제를 경험합니다.
- **Lost Update 문제**: 두 트랜잭션이 동시에 같은 데이터를 수정할 때, 하나의 수정사항이 덮어씌워지는 현상을 확인합니다.
- **Lock의 필요성 체감**: 트랜잭션 격리 수준만으로는 해결되지 않는 동시성 문제를 해결하기 위해, 비관적 락(Pessimistic Lock)과 낙관적 락(Optimistic Lock) 등의 기법을 적용해 봅니다.

---

## 📂 목차

1. [Mission 1: Deadlock](./MISSION_1.md)

---

## 🚀 상세 설계 내용 및 핵심 포인트

### 1. Deadlock: 동시 요청 상황에서 발생하는 대표적인 문제
**핵심 문제**: 동시 `INSERT` 쿼리 발생 상황에서 외래 키에 의한 공유 락으로 발생하는 데드락  
**해결 전략**:
- **DB 모니터링** : InnoDB 스토리지 엔진 상태를 모니터링하여 정확한 원인 파악
- **쿼리 순서 변경** : 공유 락이 아닌 배타 락을 먼저 선점하도록 유도

### 2. 비관적 락 & 낙관적 락: 동시성 문제를 해결하는 대표적인 방법
**핵심 문제**:   
**해결 전략**:

---
## 📖 참고 자료
- [인프런 - 6주 완성! 백엔드 이력서 차별화 전략 4가지](https://www.inflearn.com/course/6%EC%A3%BC%EC%99%84%EC%84%B1-%EB%B0%B1%EC%97%94%EB%93%9C-%EC%9D%B4%EB%A0%A5%EC%84%9C-%EB%8F%8B%EB%B3%B4%EC%9D%B4%EB%8A%94%EB%B2%95/dashboard)
- Google Gemini
